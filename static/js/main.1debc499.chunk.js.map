{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","components/Input.tsx","views/Tag.tsx","views/money/TagSection.tsx","views/money/NoteSction.tsx","views/money/CategorySection.tsx","views/money/keyboardSection/Wrapper.tsx","views/money/KeyboardSection.tsx","views/money/keyboardSection/getOutput.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","views/NoMatch.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","className","children","reset","cs","xlinkHref","NavWrapper","styled","nav","Nav","exact","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","parseInt","localStorage","getItem","createId","setItem","toString","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","JSON","parse","length","window","stringify","findTag","tagId","filter","tag","findIndex","deleteTag","editTag","tagName","newTags","addTag","prompt","getTagName","Button","button","Center","Space","TagsList","ul","Tags","onClick","Label","label","Input","TopBar","header","InputWrapper","Tag","tagIdString","useParams","tagChange","target","value","history","useHistory","goBack","onChange","placeholder","tagContent","section","TagSection","selectedTagIds","indexOf","s","onToggleTag","NoteSection","note","categoryMap","CategorySection","categoryList","category","c","KeyboardSection","output","_setOutput","newOutput","text","textContent","submit","split","concat","substr","getOutput","slice","parseFloat","useRecords","records","setRecords","addRecord","record","tagIds","alert","amount","ri","createAt","Date","toISOString","CategoryWrapper","initialRecord","Money","selected","setSelected","obj","Group","Statistics","setCategory","selectedRecords","group","groupName","day","format","undefined","push","sortedGroup","entries","sort","a","b","reduce","result","join","NoMatch","App","from","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1debc499.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 41,\n\t\"./left.svg\": 42,\n\t\"./money.svg\": 43,\n\t\"./right.svg\": 44,\n\t\"./tag.svg\": 45\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 40;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M274.432 569.856v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0zm-37.888-163.84L460.8 249.344l133.12 145.408a29.184 29.184 0 007.168 5.12h4.096l9.216 9.728h10.24a28.672 28.672 0 008.192-3.584l235.52-164.352a29.696 29.696 0 00-34.304-51.2l-217.6 153.6-128.512-153.6a29.696 29.696 0 00-38.4-4.096 28.672 28.672 0 00-7.68 3.072L204.8 358.4a29.696 29.696 0 0034.304 51.2zm201.728 48.64v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm326.144 0v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm-162.304 115.2v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0z\\\" /><path d=\\\"M930.304 841.216H137.728v-632.32a29.696 29.696 0 10-59.904 0V870.4a30.208 30.208 0 0029.696 29.696h822.784a29.696 29.696 0 000-59.904z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M280.947 512.143l40.18 40.204.171-.17 381.576 381.606 40.18-40.18L361.473 512l381.58-381.607-40.18-40.175-421.926 421.926zm0 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M441.186 759.832H208.598c-3.389-10.102-5.067-24.432-5.067-42.974 0-7.584.42-15.169 1.259-22.753.839-7.585 2.113-14.75 3.807-21.495h232.588V561.358H208.597c-3.389-10.102-5.067-24.431-5.067-42.974 0-7.584.42-15.17 1.259-22.754.839-7.584 2.113-14.749 3.807-21.494h182.03L158.024 64.556c10.94-1.679 22.946-2.938 36.018-3.777 13.07-.839 25.497-1.275 37.309-1.275 11.78 0 23.996.436 36.647 1.275 12.636.84 24.012 2.098 34.13 3.776l207.317 381.777 203.54-381.777a428.914 428.914 0 0133.486-3.776 472.535 472.535 0 0134.776-1.275c11.78 0 23.576.436 35.389 1.275 11.796.84 22.753 2.098 32.871 3.776l-228.81 409.582h192.146c2.518 11.812 3.793 25.287 3.793 40.456 0 18.542-1.275 34.13-3.793 46.766H570.14V672.61h242.705c2.518 11.813 3.793 25.287 3.793 40.455 0 18.543-1.275 34.132-3.793 46.767H570.14v198.473c-10.119 1.678-20.657 2.953-31.614 3.791a430.317 430.317 0 01-32.871 1.259 430.37 430.37 0 01-32.873-1.259c-10.957-.838-21.494-2.113-31.596-3.791V759.832z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M743.053 511.857l-40.18-40.204-.171.17L321.126 90.218l-40.18 40.18L662.527 512l-381.58 381.607 40.18 40.175 421.926-421.926zm0 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M979.383 401.554L953.05 117.03c-7.314-21.943-24.137-38.766-46.08-46.08L622.446 44.617a73.874 73.874 0 00-74.606 17.554L62.171 547.84a72.85 72.85 0 000 103.131l310.126 310.126c28.526 28.526 74.606 28.526 103.132 0L960.366 476.16c20.48-19.749 27.794-48.274 19.017-74.606zM747.52 276.48a55.15 55.15 0 010-77.531c21.211-21.212 56.32-21.212 77.531 0 21.212 21.211 21.212 56.32 0 77.531-21.211 21.211-55.588 21.211-77.531 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from \"react\";\nimport cs from 'classnames'\n\n// import tag from 'icons/tag.svg'\n// import money from 'icons/money.svg'\n// import chart from 'icons/chart.svg'\n\n// require('icons/money.svg')\n// require('icons/tag.svg')\n// require('icons/chart.svg')\n\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\n\ntype Props = {\n    name?: string\n} & React.SVGAttributes<SVGElement>\n\nconst Icon = (props:Props)=>{\n    const {name,children,className,...reset} = props\n    return (\n        <svg className={cs(\"icon\",className)} {...reset}>\n            {name &&  <use xlinkHref={'#'+name} />}\n        </svg>\n    )\n}\n\n\nexport default Icon\n","import {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Icon from 'components/Icon'\r\n\r\n\r\nconst NavWrapper = styled.nav`\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, .25);\r\n  position: sticky;\r\n  bottom: 0;\r\n  background: white;\r\n\r\n  > ul {\r\n    display: flex;\r\n\r\n    > li {\r\n      > a {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        text-align: center;\r\n        padding: 8px;\r\n        color: #929292;\r\n        \r\n        .icon {\r\n          width: 24px;\r\n          height: 24px;\r\n          fill: #929292;\r\n        }\r\n\r\n        &.selected {\r\n          color: #476FF6;\r\n          .icon {\r\n            fill:#476FF6;\r\n          }\r\n        }\r\n      }\r\n      flex-grow: 1;\r\n    }\r\n  }\r\n`\r\nconst Nav = () => {\r\n    return (\r\n        <NavWrapper>\r\n            <ul>\r\n                <li>\r\n                    <NavLink  exact to=\"/tags\" activeClassName=\"selected\">\r\n                        <Icon name='tag'/>\r\n                        标签\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/money\" activeClassName=\"selected\">\r\n                        <Icon name='money'/>\r\n                        记一笔\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n\r\n                    <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n                        <Icon name=\"chart\"/>\r\n                        统计\r\n                    </NavLink>\r\n                </li>\r\n            </ul>\r\n        </NavWrapper>\r\n    )\r\n}\r\n\r\nexport default Nav\r\n\r\n\r\n","import styled from \"styled-components\";\r\nimport React, {useEffect, useRef} from \"react\";\r\nimport Nav from \"./Nav\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: auto;\r\n`\r\n\r\n\r\ntype Props = {\r\n    className?: string,\r\n    scrollTop?: number\r\n}\r\n\r\nconst Layout: React.FC<Props> = (props) => {\r\n\r\n    const mainRef = useRef<HTMLDivElement>(null)\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            if (!mainRef.current) return\r\n            mainRef.current.scrollTop = props.scrollTop!\r\n\r\n        }, 0)\r\n    }, [props.scrollTop])\r\n\r\n\r\n    return (\r\n        <Wrapper>\r\n            <Main ref={mainRef} className={props.className}>\r\n                {props.children}\r\n            </Main>\r\n            <Nav/>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\n\r\nLayout.defaultProps = {\r\n    scrollTop: 0\r\n}\r\n\r\n\r\nexport default Layout\r\n","\r\nlet id =  parseInt(localStorage.getItem('maxId') || '0')\r\nconst createId = ():number =>{\r\n    id+=1;\r\n    localStorage.setItem('maxId',id.toString())\r\n    return id\r\n}\r\n\r\nexport {createId}\r\n","import {useEffect, useRef} from \"react\";\r\n\r\n\r\nconst useUpdate = (fn: () => void, dependency: any) => {\r\n    const count = useRef(0)\r\n    useEffect(() => {\r\n        count.current++\r\n    })// 第二个参数不填 任何state变化都执行\r\n\r\n    useEffect(() => {\r\n        if (count.current > 1) {\r\n            fn()\r\n        }\r\n    }, [fn , dependency])\r\n\r\n}\r\nexport {useUpdate}\r\n","import {useEffect, useState} from \"react\";\r\nimport {createId} from \"../lib/createId\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n\r\ntype Tag = {\r\n    id: number,\r\n    name: string\r\n}\r\n\r\nconst useTags = () => {\r\n    const [tags, setTags] = useState<Tag[]>([])\r\n\r\n\r\n    useEffect(() => {\r\n        //    componentDidMount\r\n        let tags = JSON.parse(localStorage.getItem('tags') || '[]')\r\n        if(tags.length === 0 ) {\r\n            tags = [\r\n                {id: createId(), name: '衣'},\r\n                {id: createId(), name: '食'},\r\n                {id: createId(), name: '住'},\r\n                {id: createId(), name: '行'},\r\n            ]\r\n        }\r\n\r\n        setTags(tags)\r\n    }, [])\r\n\r\n    useUpdate(()=>{\r\n        window.localStorage.setItem('tags', JSON.stringify(tags))\r\n    },tags)\r\n\r\n\r\n\r\n    const findTag = (tagId: number) => tags.filter(tag => tag.id === tagId)[0]\r\n    const getTagName = (tagId:number) => {\r\n        const tag = findTag(tagId);\r\n        return tag?.name || ''\r\n    }\r\n    const findIndex = (tagId: number) => tags.findIndex(tag => tag.id === tagId)\r\n    const deleteTag = (tagId: number) => setTags(tags.filter(tag => tag.id !== tagId))\r\n    const editTag = (tagId: number, tagName: string) => {\r\n        const newTags = tags.map(tag => tag.id === tagId ?\r\n            {id: tagId, name: tagName} : tag\r\n        )\r\n        setTags(newTags)\r\n    }\r\n    const addTag = () => {\r\n        const name = window.prompt('请输入标签名')\r\n        if (name) {\r\n            setTags([...tags, {id: createId(), name}])\r\n        }\r\n    }\r\n\r\n    return {\r\n        tags,\r\n        setTags,\r\n        findTag,\r\n        findIndex,\r\n        deleteTag,\r\n        editTag,\r\n        addTag,\r\n        getTagName\r\n\r\n    }\r\n}\r\n\r\nexport {useTags,}\r\nexport type {Tag}\r\n","import styled from \"styled-components\";\r\nimport 'helper.scss'\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background:#476FF6 ;\r\n  color: white;\r\n  border-radius: 4px;\r\n  width: 100px;\r\n  height: 40px;\r\n`\r\nexport {Button}\r\n","import styled from \"styled-components\";\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n`\r\n\r\nexport {Center}\r\n","import styled from \"styled-components\";\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`\r\n\r\nexport {Space}\r\n","import React, {} from \"react\";\r\nimport Layout from \"../components/Layout\";\r\nimport {useTags} from \"../hooks/useTags\";\r\nimport styled from \"styled-components\";\r\nimport Icon from \"../components/Icon\";\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from \"../components/Button\";\r\nimport {Center} from \"../components/Center\";\r\nimport {Space} from \"../components/Space\";\r\n\r\nconst TagsList = styled.ul`\r\n  font-size: 16px;\r\n  background: white;\r\n\r\n  > li {\r\n\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n\r\n    > a {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 12px 16px 12px 0;\r\n\r\n    }\r\n\r\n    .icon {\r\n      min-width: 16px;\r\n      min-height: 16px;\r\n    }\r\n  }\r\n\r\n`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Tags() {\r\n    const {tags,addTag} = useTags()\r\n\r\n\r\n    return (\r\n        <Layout>\r\n            <TagsList>\r\n                {\r\n                    tags.map(tag =>\r\n                        <li key={tag.id}>\r\n                            <Link to={'/tags/' + tag.id}>\r\n                                <span className=\"oneLine\">{tag.name}</span>\r\n                                <Icon name=\"right\"/>\r\n                            </Link>\r\n                        </li>\r\n\r\n                    )\r\n                }\r\n\r\n            </TagsList>\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={addTag}>新增标签</Button>\r\n                <Space/>\r\n            </Center>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Tags\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\n\r\n\r\nconst Label = styled.label`\r\n\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  > input {\r\n    border: none;\r\n    margin-left: 16px;\r\n    flex-grow: 1;\r\n    height: 44px;\r\n    background: none;\r\n\r\n  }\r\n\r\n`\r\n\r\ntype Props = {\r\n    label:string\r\n} & React.InputHTMLAttributes<HTMLInputElement>\r\nconst Input: React.FC<Props> = (props) => {\r\n\r\n    const {label,children,...reset } = props\r\n\r\n    return (\r\n        <Label>\r\n            <span>{label}</span>\r\n            <input\r\n                {...reset}\r\n            />\r\n        </Label>\r\n    )\r\n}\r\n\r\n\r\nexport {Input}\r\n","import React\r\n    , {ChangeEvent,} from \"react\";\r\nimport {Tag as TagType, useTags} from \"hooks/useTags\";\r\n\r\nimport {useParams,useHistory} from 'react-router-dom'\r\nimport Layout from \"components/Layout\";\r\nimport Icon from \"components/Icon\";\r\nimport {Button} from \"../components/Button\";\r\nimport styled from \"styled-components\";\r\nimport {Center} from \"../components/Center\";\r\nimport {Space} from \"../components/Space\";\r\nimport {Input} from \"../components/Input\";\r\n\r\n\r\nconst TopBar = styled.header`\r\n  display: flex;\r\n  justify-content: center;\r\n  position: relative;\r\n  padding: 20px 16px;\r\n  background: white;\r\n\r\n\r\n  & > label {\r\n    position: absolute;\r\n    left: 16px;\r\n    padding: 8px;\r\n    margin-top: -8px;\r\n\r\n  }\r\n\r\n`\r\n\r\nconst InputWrapper = styled.div`\r\n  padding: 0 16px;\r\n  background: white;\r\n  margin-top: 8px;\r\n  border-bottom: 1px solid #e3e3e3;\r\n\r\n`\r\nconst Wrapper = styled.div`\r\n  background: #F5F5F5;\r\n\r\n`\r\n\r\n\r\ntype Params = {\r\n    tagId: string\r\n}\r\nconst Tag: React.FC = (props) => {\r\n    const {findTag, deleteTag, editTag} = useTags()\r\n    const {tagId: tagIdString} = useParams<Params>()\r\n    const tag = findTag(parseInt(tagIdString))\r\n    const tagChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const name = e.target.value\r\n        editTag(tag.id, name)\r\n    }\r\n    const tagContent = (tag: TagType) => (\r\n        <div>\r\n            <InputWrapper>\r\n                <Input label='标签名' onChange={tagChange} value={tag.name} placeholder='请输入标签名'/>\r\n\r\n            </InputWrapper>\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={() => deleteTag(tag.id)}>删除标签</Button>\r\n            </Center>\r\n        </div>\r\n    )\r\n    const history = useHistory()\r\n    const onClickBack = ()=>{\r\n        history.goBack()\r\n    }\r\n\r\n\r\n    return (\r\n        <Wrapper>\r\n\r\n            <Layout>\r\n                <TopBar>\r\n                    <label onClick={onClickBack}>\r\n                        <Icon name=\"left\"/>\r\n                    </label>\r\n                    <span>编辑标签</span>\r\n                </TopBar>\r\n                {\r\n                    tag ? tagContent(tag) :\r\n                        <Center>\r\n                            <Space/>\r\n                            <Space/>\r\n                            <Space/>\r\n                            tag 不存在\r\n                        </Center>\r\n                }\r\n\r\n            </Layout>\r\n        </Wrapper>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport {Tag}\r\n","import styled from \"styled-components\";\r\nimport React, { } from \"react\";\r\nimport {useTags} from \"hooks/useTags\";\r\nimport {createId} from \"lib/createId\";\r\n\r\nconst Wrapper = styled.section`\r\n  background: #FFFFFF;\r\n  padding: 12px 16px;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n\r\n  > ul {\r\n    flex-wrap: wrap;\r\n\r\n    margin: 0 -12px;\r\n    display: flex;\r\n    padding-left: 4px;\r\n\r\n    > li {\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      border-radius: 18px;\r\n      background: #EBEBEB;\r\n      color: #3E4459;\r\n      \r\n      &.selected {\r\n        background: #C5D2FF;\r\n      }\r\n    }\r\n  }\r\n\r\n  > button {\r\n    flex-shrink: 0;\r\n    max-width: 70px;\r\n    font-size: 14px;\r\n    border: none;\r\n    background: none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #666666;\r\n    color: #666;\r\n    margin-top: 8px;\r\n\r\n\r\n  }\r\n`\r\ntype Props = {\r\n    value:number[],\r\n    onChange : (selectedTags:number[])=> void\r\n}\r\n\r\nconst TagSection: React.FC<Props> = (props) => {\r\n    const {tags,setTags} = useTags()\r\n\r\n    const selectedTagIds = props.value\r\n    const addTag = () => {\r\n        const tagName = window.prompt('请输入新标签名称')\r\n        console.log(tagName)\r\n        if (tagName !== null) {\r\n            setTags([...tags, {id:createId(),name:tagName}])\r\n        }\r\n    }\r\n    const onToggleTag = (tagId: number) => {\r\n        const isSelected = selectedTagIds.indexOf(tagId) >= 0\r\n        if (isSelected) {\r\n            props.onChange(selectedTagIds.filter(s => s !== tagId))\r\n        } else {\r\n            props.onChange([...selectedTagIds,tagId])\r\n        }\r\n\r\n    }\r\n    const getClass = (tagId: number) => {\r\n        const isSelected  = selectedTagIds.indexOf(tagId) >=0\r\n        return isSelected ? 'selected':''\r\n    }\r\n\r\n    return (\r\n        <Wrapper>\r\n\r\n            <ul>\r\n                {\r\n                    tags.map((tag) => {\r\n                            return (\r\n                                <li className={getClass(tag.id)} onClick={() => onToggleTag(tag.id)} key={tag.name}>{tag.name}</li>\r\n                            )\r\n                        }\r\n                    )\r\n                }\r\n            </ul>\r\n            <button onClick={addTag}>新增标签</button>\r\n        </Wrapper>\r\n    )\r\n}\r\nexport {TagSection}\r\n","import styled from \"styled-components\";\r\nimport React, { ChangeEventHandler } from \"react\";\r\n\r\nimport {Input} from \"../../components/Input\";\r\n\r\nconst Wrapper = styled.section`\r\n  background: #f5f5f5;\r\n  font-size: 14px;\r\n  padding: 12px 16px;\r\n\r\n\r\n\r\n`\r\ntype Props = {\r\n    value:string,\r\n    onChange:(newValue:string)=> void\r\n}\r\n\r\nconst NoteSection: React.FC<Props> = (props) => {\r\n    // const [note, setNote] = useState('')\r\n    const note = props.value\r\n\r\n    const onChange:ChangeEventHandler<HTMLInputElement> = (e) => {\r\n            props.onChange(e.target.value);\r\n    }\r\n    return (\r\n        <Wrapper>\r\n            <Input label=\"备注\" placeholder=\"请输入备注\" value={note} onChange={onChange} />\r\n\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport {NoteSection}\r\n","import styled from \"styled-components\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Wrapper = styled.section`\r\n  //background-color: #c4c4c4;\r\n\r\n  > ul {\r\n    display: flex;\r\n\r\n    > li {\r\n      padding: 22px 0;\r\n      flex-grow: 1;\r\n      text-align: center;\r\n      font-size: 24px;\r\n\r\n      position: relative;\r\n\r\n      &.selected:after {\r\n        content: '';\r\n        display: block;\r\n        background: #333;\r\n        //background: white;\r\n        height: 3px;\r\n        position: absolute;\r\n        width: 100%;\r\n        bottom: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n`\r\n\r\n// type X = typeof categoryMap  //X = {\"+\": string, \"-\": string}\r\n\r\n\r\n// type Category = '+' | '-'\r\n\r\nconst categoryMap = {'-': '支出', '+': '收入'}\r\n\r\n//Category = '-'|'+'\r\ntype Category = keyof typeof categoryMap\r\n\r\ntype Props = {\r\n    value: string,\r\n    onChange: (category: Category) => void\r\n}\r\n\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n\r\n\r\n    const [categoryList] = useState<Category[]>(['-', '+'])\r\n\r\n    const category = props.value\r\n\r\n    return (\r\n        <Wrapper>\r\n            <ul>\r\n                {\r\n                    categoryList.map(c =>\r\n                        <li\r\n                            key={c}\r\n                            onClick={() => props.onChange(c)}\r\n                            className={c === category ? 'selected' : ''}>{categoryMap[c]}</li>\r\n                    )\r\n                }\r\n\r\n            </ul>\r\n        </Wrapper>\r\n    )\r\n}\r\nexport {CategorySection}\r\nexport type {Category}\r\n\r\n","import styled from \"styled-components\";\r\n\r\n\r\nconst Wrapper = styled.section`\r\n  > .output {\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    margin-right: 26px;\r\n    text-align: right;\r\n  }\r\n  \r\n  > .keyboard {\r\n    float:left;\r\n    width: 100%;\r\n    & > button {\r\n      border: none;\r\n\r\n      height: 64px;\r\n      line-height:64px;\r\n      width: 25%;\r\n      font-size: 18px;\r\n\r\n      &:nth-child(1){\r\n        background:#f2f2f2;\r\n      }\r\n      &:nth-child(2),\r\n      &:nth-child(5) {\r\n        background:#E0E0E0;\r\n      }\r\n      &:nth-child(3),\r\n      &:nth-child(6),\r\n      &:nth-child(9) {\r\n        background:#D3D3D3;\r\n      }\r\n      &:nth-child(4),\r\n      &:nth-child(7),\r\n      &:nth-child(10) {\r\n        background:#C1C1C1;\r\n      }\r\n      &:nth-child(8),\r\n      &:nth-child(11),\r\n      &:nth-child(13) {\r\n        background:#B8B8B8;\r\n      }\r\n      &:nth-child(12) {\r\n        background:#9A9A9A;\r\n      }\r\n      &:nth-child(14) {\r\n        background:#A9A9A9;\r\n      }\r\n      \r\n    }\r\n    \r\n    & > .ok {\r\n      line-height:128px;\r\n      height:128px;\r\n      float: right;\r\n      \r\n    }\r\n    \r\n    & > .zero {\r\n      width: calc(25% * 2)\r\n    }\r\n    \r\n   \r\n    \r\n  }\r\n  \r\n  \r\n`\r\n\r\nexport {Wrapper}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {Wrapper} from './keyboardSection/Wrapper'\r\nimport {getOutput} from \"./keyboardSection/getOutput\";\r\n\r\n\r\ntype Props = {\r\n    value : number,\r\n    onChange :(amount:number)=> void,\r\n    submit:()=>void\r\n}\r\n\r\nconst KeyboardSection: React.FC<Props> = (props) => {\r\n    // const [output, _setOutput] = useState<string>('0')\r\n    const [output,_setOutput] = useState(props.value.toString())\r\n    useEffect(()=>{\r\n        _setOutput(props.value.toString())\r\n    },[props.value])\r\n    const setOutput = (newOutput:string)=>{\r\n        if(newOutput.length > 16) {\r\n            newOutput = newOutput.slice(0,16)\r\n        }else if (newOutput.length === 0) {\r\n            newOutput = '0'\r\n        }\r\n        _setOutput(newOutput)\r\n        props.onChange(parseFloat(newOutput))\r\n    }\r\n\r\n    const onBtnWrapperClick = (e: React.MouseEvent) => {\r\n        const text = (e.target as HTMLButtonElement).textContent\r\n        if (text === null) return\r\n        if(text ==='OK'){\r\n            props.submit()\r\n\r\n        }\r\n        const validInput = ('0123456789.'.split('').concat(['删除','清空']).indexOf(text)>=0)\r\n        if(validInput) {\r\n            setOutput(getOutput(text, output))\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Wrapper>\r\n            <div className=\"output\">\r\n                {output}\r\n            </div>\r\n            <div className=\"keyboard\" onClick={onBtnWrapperClick}>\r\n                <button>1</button>\r\n                <button>2</button>\r\n                <button>3</button>\r\n                <button>删除</button>\r\n                <button>4</button>\r\n                <button>5</button>\r\n                <button>6</button>\r\n                <button>清空</button>\r\n                <button>7</button>\r\n                <button>8</button>\r\n                <button>9</button>\r\n                <button className=\"ok\">OK</button>\r\n                <button className=\"zero\">0</button>\r\n                <button>.</button>\r\n            </div>\r\n\r\n        </Wrapper>\r\n    )\r\n}\r\nexport {KeyboardSection}\r\n","const getOutput = (text: string, output: string) => {\r\n    switch (text) {\r\n        case '0':\r\n        case '1':\r\n        case '2':\r\n        case '3':\r\n        case '4':\r\n        case '5':\r\n        case '6':\r\n        case '7':\r\n        case '8':\r\n        case '9':\r\n            if (output === '0') {\r\n                return text\r\n            } else {\r\n                return output + text;\r\n            }\r\n        case '删除':\r\n            if (output.length > 1) {\r\n                return output.substr(0, output.length - 1)\r\n            } else {\r\n                return ''\r\n            }\r\n        case '.':\r\n            if (output.indexOf('.') >=0) {\r\n                return output\r\n            } else if (output === '0') {\r\n                return '0.'\r\n            } else {\r\n                return output + '.'\r\n            }\r\n\r\n        // case '清空':\r\n        default:\r\n            return ''\r\n    }\r\n}\r\nexport {getOutput}\r\n","import {Category} from \"../views/money/CategorySection\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n\r\n\r\n\r\nexport type RecordItem = {\r\n    tagIds: number[],\r\n    note:string,\r\n    category:Category,\r\n    amount:number,\r\n    createAt:string // ISO 8601\r\n}\r\n\r\n\r\n\r\ntype Record =  Omit<RecordItem, 'createAt'>\r\n\r\n\r\nconst useRecords = ()=>{\r\n    const [records,setRecords]  = useState<RecordItem[]>([])\r\n\r\n    useEffect(()=>{\r\n        setRecords(JSON.parse(window.localStorage.getItem('records')|| '[]'))\r\n    },[])\r\n\r\n    useUpdate(()=>{\r\n        window.localStorage.setItem('records' ,JSON.stringify(records))\r\n    },records)\r\n\r\n    const addRecord = (record:Record)=>{\r\n        if(record.tagIds.length === 0) {\r\n            alert(\"请选择标签\")\r\n            return false\r\n        }\r\n        if(record.amount === 0) {\r\n            alert(\"请输入金额\")\r\n            return false\r\n        }\r\n\r\n        const ri = {...record,createAt:(new Date().toISOString())}\r\n        setRecords([...records , ri])\r\n        return true\r\n    }\r\n\r\n\r\n    return {\r\n        records,\r\n        addRecord\r\n    }\r\n}\r\n\r\n\r\nexport {useRecords}\r\n\r\nexport type {Record}\r\n","import React, {useState} from \"react\";\r\nimport Layout from \"../components/Layout\";\r\nimport {TagSection} from \"./money/TagSection\";\r\nimport {NoteSection} from './money/NoteSction'\r\nimport {Category, CategorySection} from './money/CategorySection'\r\nimport {KeyboardSection} from \"./money/KeyboardSection\";\r\nimport {Record, useRecords} from \"../hooks/useRecords\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\n\r\n\r\nconst CategoryWrapper = styled.div `\r\n  background: #c4c4c4;\r\n`\r\n\r\nconst initialRecord = {\r\n    tagIds: [] as number[],\r\n    note: '',\r\n    category: '-' as Category,\r\n    amount: 0\r\n}\r\n\r\nfunction Money() {\r\n    const [selected, setSelected] = useState<Record>(initialRecord)\r\n    type Selected = typeof selected\r\n\r\n\r\n    const {addRecord} = useRecords()\r\n\r\n    const submit = () => {\r\n        const success = addRecord(selected)\r\n        if(success) {\r\n            setSelected(initialRecord)\r\n        }\r\n    }\r\n\r\n    const onChange = (obj: Partial<Selected>) => {\r\n        setSelected({\r\n            ...selected,\r\n            ...obj\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Layout scrollTop={9999} className='fuck'>\r\n            <TagSection value={selected.tagIds} onChange={tagIds => onChange({tagIds})}/>\r\n\r\n            <NoteSection value={selected.note} onChange={note => onChange({note})}/>\r\n\r\n            <CategoryWrapper>\r\n                <CategorySection value={selected.category} onChange={(category => onChange({category}))}/>\r\n            </CategoryWrapper>\r\n\r\n            <KeyboardSection value={selected.amount}\r\n                             submit={submit}\r\n                             onChange={amount => onChange({amount})}/>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Money\r\n","import React, {useState} from \"react\";\r\nimport Layout from \"../components/Layout\";\r\nimport {Category, CategorySection} from \"./money/CategorySection\";\r\nimport {RecordItem, useRecords} from \"../hooks/useRecords\";\r\nimport {useTags} from \"../hooks/useTags\";\r\nimport styled from \"styled-components\";\r\nimport day from 'dayjs'\r\n\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background: white;\r\n`\r\n\r\nconst Group = styled.div`\r\n  & > .group-item {\r\n    font-size: 18px;\r\n\r\n    & .group-name {\r\n      background: #F5F5F5;\r\n      padding: 9px 16px;\r\n    }\r\n\r\n    & > .category-item {\r\n      background: white;\r\n      padding: 9px 16px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      & > .note {\r\n        color: #999999;\r\n        margin-left: 16px;\r\n        margin-right: auto;\r\n      }\r\n    }\r\n\r\n  }\r\n`\r\n\r\nfunction Statistics() {\r\n    const [category, setCategory] = useState<Category>('-')\r\n    const {records} = useRecords()\r\n    const {getTagName} = useTags()\r\n\r\n    const selectedRecords = records.filter(record => record.category === category)\r\n    // group  ['2021年05月27日':[record1,record2]]\r\n    const group: { [K: string]: RecordItem[] } = {}\r\n    selectedRecords.forEach(record => {\r\n        const groupName = day(record.createAt).format('YYYY年MM月DD日')\r\n        if (group[groupName] === undefined) {\r\n            group[groupName] = []\r\n        }\r\n        group[groupName].push(record)\r\n    })\r\n\r\n\r\n    const sortedGroup = Object.entries(group).sort((a, b) => {\r\n        if (a[0] > b[0]) return -1\r\n        if (a[0] < b[0]) return 1\r\n\r\n        return 0\r\n    })\r\n\r\n\r\n    const onChange = (c: Category) => {\r\n        setCategory(c)\r\n    }\r\n    return (\r\n        <Layout >\r\n            <CategoryWrapper>\r\n                <CategorySection value={category} onChange={onChange}/>\r\n            </CategoryWrapper>\r\n            <Group>\r\n                {sortedGroup.map(group => {\r\n                    return (\r\n                        <div className=\"group-item\" key={group[0]}>\r\n                            <div className=\"group-name\">\r\n                                {group[0]}\r\n                            </div>\r\n                            {group[1].map(record => {\r\n                                return (\r\n                                    <div className=\"category-item\" key={record.createAt}>\r\n                                        <span>\r\n                                            {\r\n                                                record.tagIds\r\n                                                    .reduce((result, tagId) => {\r\n                                                        result.push(getTagName(tagId))\r\n                                                        return result\r\n                                                    }, [] as string[])\r\n                                                    .join(',')\r\n                                            }\r\n                                        </span>\r\n                                        {/*{record.tagIds.map(tagId => <span>{getTagName(tagId)}</span>)}*/}\r\n                                        <span className=\"note\">{record.note}</span>\r\n                                        <span className=\"amount\">{'￥' + record.amount}</span>\r\n\r\n                                    </div>\r\n\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    )\r\n                })}\r\n            </Group>\r\n        </Layout>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Statistics\r\n","import React from \"react\";\r\n\r\nfunction NoMatch(){\r\n    return <div>no match</div>\r\n}\r\n\r\nexport default  NoMatch\r\n","import React from 'react'\nimport './index.scss'\nimport Tags from \"./views/Tags\";\nimport {Tag} from './views/Tag'\nimport Money from \"./views/Money\";\nimport Statistics from \"./views/Statistics\";\nimport NoMatch from \"./views/NoMatch\";\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n    Redirect,\n} from \"react-router-dom\";\n\n\nfunction App() {\n    return (\n        <Router>\n                <Switch>\n                    <Redirect exact from=\"/\" to=\"/money\"/>\n                    <Route exact path=\"/tags\">\n                        <Tags/>\n                    </Route>\n                    {/*exact 精确匹配*/}\n                    <Route exact path=\"/tags/:tagId\">\n                        <Tag/>\n                    </Route>\n                    <Route exact path=\"/money\">\n                        <Money/>\n                    </Route>\n                    <Route exact path=\"/statistics\">\n                        <Statistics/>\n                    </Route>\n                    <Route path=\"*\">\n                        <NoMatch/>\n                    </Route>\n                </Switch>\n        </Router>\n    );\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n  // </React.StrictMode>\n    <App />\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}